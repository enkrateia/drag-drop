
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <link rel="stylesheet" href="temp.css">


</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col s6">
                <div class="row">
                    <div class="col s12 m12">
                        <div class="card blue-grey darken-1">
                            <div class="card-content white-text">
                                <span class="card-title">Contenedor Principal</span>
                                <div class="card-content white-text withoutpadding" id="mainContainer"></div>
                            </div>
                            <div class="card-action">
                                <a onclick="generateJSON()">Crear JSON</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col s6">
                <ul class="collapsible" data-collapsible="accordion">
                    <li>
                        <div class="collapsible-header">Contenedores</div>
                        <div class="collapsible-body" id="containerFrom">
                            <div name="casa" class="card-content white-text"  id="casa">
                            </div>
                            <div name="mascota" class="card-content white-text" id="mascota">
                            </div>
                            <div name="comida" class="card-content white-text" id="comida">
                            </div>
                            <div name="perro" class="card-content white-text" id="perro">
                            </div>
                            <div name="celular" class="card-content white-text" id="celular">
                            </div>
                            <div name="delfin" class="card-content white-text" id="delfin">
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header">Colores</div>
                        <div class="collapsible-body" id="colores">
                            <div class="chip">Naranja</div>
                            <div class="chip">#yanosemeocurrenmascolores</div>
                            <div class="chip">Rojo</div>
                            <div class="chip">Verde</div>
                            <div class="chip">Azul</div>
                            <div class="chip">Negro</div>
                            <div class="chip">Amarillo</div>
                            <div class="chip">Rosa</div>
                            <div class="chip">Café</div>
                            <div class="chip">Blanco</div>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header">Países</div>
                        <div class="collapsible-body" id="paises">
                            <div class="chip">México</div>
                            <div class="chip">Colombia</div>
                            <div class="chip">Ecuador</div>
                            <div class="chip">Cánada</div>
                            <div class="chip">Bolivia</div>
                            <div class="chip">Francia</div>
                            <div class="chip">Pánama</div>
                            <div class="chip">Argentina</div>
                            <div class="chip">Italia</div>
                            <div class="chip">Portugal</div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <input id="inputjson" type="text">
    </div>


<!-- jsDelivr :: Sortable :: Latest (http://www.jsdelivr.com/) -->
<script src="https://cdn.jsdelivr.net/sortable/latest/Sortable.min.js"></script>
<script>
    var el = document.getElementById('containerFrom');
    var sortable = Sortable.create(el, {
        group: {
            "name": "firstExample",
            "pull": "clone",
            "put": false
        }
    });

    var el1 = document.getElementById('colores');
    var sortable1 = Sortable.create(el1, {
        group: {
            "name": "firstExample",
            "pull": "clone",
            "put": false
        }
    });

    var el2 = document.getElementById('paises');
    var sortable2 = Sortable.create(el2, {
        group: {
            "name": "firstExample",
            "pull": "clone",
            "put": false
        }
    });


    var el3 = document.getElementById('mainContainer');
    var sortable3 = Sortable.create(el3, {
        group: {
            "name": "firstExample",
            "pull": true,
            "put": true
        }
    });

    var el4 = document.getElementById('casa');
    var sortable4 = Sortable.create(el4, {
        group: {
            "name": "firstExample",
            "pull": true,
            "put": true
        }
    });

    var el5 = document.getElementById('mascota');
    var sortable5 = Sortable.create(el5, {
        group: {
            "name": "firstExample",
            "pull": true,
            "put": true
        }
    });

    var el6 = document.getElementById('comida');
    var sortable6 = Sortable.create(el6, {
        group: {
            "name": "firstExample",
            "pull": true,
            "put": true
        }
    });

    var el7 = document.getElementById('perro');
    var sortable7 = Sortable.create(el7, {
        group: {
            "name": "firstExample",
            "pull": true,
            "put": true
        }
    });

    var el8 = document.getElementById('celular');
    var sortable8 = Sortable.create(el8, {
        group: {
            "name": "firstExample",
            "pull": true,
            "put": true
        }
    });

    var el9 = document.getElementById('delfin');
    var sortable9 = Sortable.create(el9, {
        group: {
            "name": "firstExample",
            "pull": true,
            "put": true
        }
    });

    function generateJSON() {

        const descendants = Array.prototype.slice.call(document.querySelector("#mainContainer").querySelectorAll("*"), 0);
        let sendjson = {send: descendants.map(descendant => descendant.getAttribute('name'))}
        document.getElementById('inputjson').value = JSON.stringify(sendjson);

    }



</script>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
</body>
</html>
